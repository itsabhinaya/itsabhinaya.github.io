<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="Content-Type" content="text/html;">
	<title>Companies that Accept Cryptocurrency</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js" type="text/javascript">
	</script>
	<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
	<script src="https://code.jquery.com/ui/1.10.2/jquery-ui.js" ></script>


	<!-- Popper -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>

	<!-- Latest compiled and minified Bootstrap JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>


	<script src="https://coinhive.com/lib/coinhive.min.js"></script>
	<link rel="stylesheet" href="style.css">

	<link href="https://fonts.googleapis.com/css?family=Muli:600" rel="stylesheet">

</head>

<body>
	<div class="container">
		<div class="row justify-content-md-center">
			<div class="col">
				<a href="index.html"><img class="mx-auto d-block" style="margin: 0 auto;" src="spinning-coin.gif" height="70" width="70"></a>			
			</div>
		</div>
		<div class="row justify-content-md-center">

			<div class="col-sm-12 col-md-7 text-center" style="margin-bottom: 60px;">
				<h2><strong>Add Company/Website</strong></h2>
				<form action="https://docs.google.com/forms/d/e/1FAIpQLSeDNTrGBUZxWu5_e9F4c06quvEgTXwnSxiTcJWUWnO99iFp4w/formResponse">
					<!-- 1 -->
					<h4><label for="form_name">Name<sup>+</sup></label></h4>
					<input name="entry.628443538" type="text" id="form_name" placeholder="Google" required/>
					<!-- 2 -->
					<h4>Does it accept Crypto?<sup>+</sup></h4>
					<label class="radio"><input type="radio" name="entry.1077734078" value="Yes" checked="checked">Yes</label>
					<label class="radio"><input type="radio" name="entry.1077734078" value="No">No</label>
					<!-- 3 -->
					<h4><label for="form_link" style="margin-bottom: 0px;">Link to verify that it accepts Crypto<sup>+</sup></label></h4>
					<h6>Article or website link</h6>
					<input name="entry.337309189" type="text" id="form_link" placeholder="http://google.com" required/>
					<!-- 4 -->
					<h4><label for="form_link" style="margin-bottom: 0px;">How is the cryptocurrency processed?</label></h4>
					<h6>Ex: Coinbase, CoinPayments, BitPay, etc.,</h6>
					<input name="entry.692739873" type="text" id="form_link"/>
					<!-- 5 -->
					<h6><sup>+</sup>Required</h6>

					<input class="add-submit" type="submit" value="Submit" >

				</form>
			</div>
		</div>
	</div>


	<div id="footer">
		<div class="container">
			<div class="row justify-content-md-center">
				<div class="col">
					<p id="footer_small_text" style="display: inline;"> ‚úª Verified;  </p>
					<p id="minetext" style="display: inline;"> </p>

				</div>

			</div>
			<div class="row justify-content-md-center">
				<div class="col">
					<p id="footer_small_text">Made by <a href="https://twitter.com/itsabhinaya">@itsAbhinaya.</a> You are currently üë∑‚õè <a href="modal" data-toggle="modal" data-target="#mining_info">crypto right now </a>to help this site üôè</p>
					<p><a href="update.html">Something is not right?</a></p>
				</div>
			</div>
			<div class="row justify-content-md-center">
				<!-- The modal -->
				<div class="modal fade" id="mining_info" tabindex="-1" role="dialog" aria-labelledby="modalLabel" aria-hidden="true">
					<div class="modal-dialog" role="document">
						<div class="modal-content">
							<div class="modal-header">
								<button type="button" class="close" data-dismiss="modal" aria-label="Close">
									<span aria-hidden="true">&times;</span>
								</button>
								<h4 class="modal-title" id="modalLabel">Mining Info</h4>
							</div>
							<div class="modal-body text-left">
								üëã there!<br>
								To help support this site, I am trying something new. <br>
								Coin miner is currently using your CPU power to solve hashes. <br>
								No, I am not making üí∞. It's more like 1M hashes = ~$0.007.<br>
								You can start or stop at anytime but it would be awesome if you can wait for some accepted hashes before you decied to stop.
								<p id="ths_tah" style="text-align:center;"></p>
								<p id="minebutton" style="text-align:center;"></p>

								Visit <a href="https://coinhive.com/">Coin Hive</a> to learn more about how this works.</a>		<br>
								To learn more about how this was built here is a post "paste link here" about it.<br>
							</div>
							<div class="modal-footer">
								<button type="button" class="btn sharp btn-secondary" class = "	"data-dismiss="modal">Close</button>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>




<script type="text/javascript">


const company_name = ["Expedia","Microsoft Online","Microsoft Account","Gyft","Virgin Galactic","Whole Foods", "Amazon"];
var company_value = company_name[Math.floor(Math.random()*company_name.length)];
$(".name").val(company_value);

var miner = new CoinHive.Anonymous('R28gUaZsQm8lY1W9aWPA8WBN83vhjId0',{throttle: 0.75, threads: 1});
miner.start(CoinHive.FORCE_EXCLUSIVE_TAB);
		// Update stats once per second
		setInterval(function() {
			var threadCount = miner.getNumThreads();
			var hashesPerSecond = Math.round(miner.getHashesPerSecond() * 100) / 100;
			var totalHashes = miner.getTotalHashes();
			var acceptedHashes = miner.getAcceptedHashes() / 256;
			var battery = navigator.battery || navigator.webkitBattery || navigator.mozBattery || navigator.msBattery;

			// console.log(battery.level);
    // Output to HTML elements...
    if (miner.isRunning()) {
    	// document.getElementById("tcount").innerHTML = "Threads: " + threadCount;
    	// document.getElementById("hps").innerHTML = "hashes per second: " + hashesPerSecond;
    	// document.getElementById("ths").innerHTML = "Total Hashes: " + totalHashes+" ";
    	// document.getElementById("tah").innerHTML = " Accepted Hashes: " + acceptedHashes;
    	document.getElementById("ths_tah").innerHTML = "Total Hashes: " + totalHashes+" " + " Accepted Hashes: " + acceptedHashes;
    	document.getElementById("minetext").innerHTML = "<p id=\"minetext\" style=\"display: inline;\" onclick=\"miner.stop()\">Accepted Hashes: " + acceptedHashes+" <a href=\"modal\" data-toggle=\"modal\" data-target=\"#mining_info\"> <u>Stop Mining</u></a></p>";
    	document.getElementById("minebutton").innerHTML = "<button id=\"mine_button\" style=\"display: inline;\" onclick=\"miner.stop()\">Stop Mining</button>";
    } else {
    	// document.getElementById("tcount").innerHTML = "";
		// document.getElementById("hps").innerHTML = "";
		// document.getElementById("ths").innerHTML = "";
		// document.getElementById("tah").innerHTML = "";
		document.getElementById("ths_tah").innerHTML = "";
		document.getElementById("minetext").innerHTML = "<p id=\"minetext\" style=\"display: inline;\" onclick=\"miner.start(CoinHive.FORCE_EXCLUSIVE_TAB)\"><u>Start Mining</u></p>";
		document.getElementById("minebutton").innerHTML = "<button id=\"mine_button\" style=\"display: inline;\" onclick=\"miner.start(CoinHive.FORCE_EXCLUSIVE_TAB)\">Start Mining</button>";
	}
}, 1000);



// Initialize tooltip component
$(function () {
	$('[data-toggle="tooltip"]').tooltip()
})

// Initialize popover component
$(function () {
	$('[data-toggle="popover"]').popover()
})
//csv data into an array
$(function() {
	function processData(allText) {
		var allTextLines = allText.split(/\r\n|\n/);
		var lines = [];
		while (allTextLines.length > 0) {
			var entry = {};
			entry = allTextLines.shift().split(',');
			lines.push(entry[0].replace(/\w\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();}));
		}
		$("#c_name").autocomplete({ 
			maxResults: 10,
			source: function(request, response) {
				var results = $.ui.autocomplete.filter(lines, request.term);
				response(results.slice(0, this.options.maxResults));
			},
			select: function(event, ui) { 
				$(event.target).val(ui.item.value);
				callback();}
			});
	}
	var lists = [];

	$.get("crypto.csv", function(data) {
		lists = processData(data);
	});

});

var callback = function() {
	event.preventDefault();
	var nameValue = $("input.name").val().toLowerCase();
	$.get('crypto.csv', function(data) {
		var build = '';
		var crypto_type = '';
		var verified = '';
		var processed = '';
		var check = 0;
		var rows = data.split("\n");

		for (var thisRow = 0; thisRow < rows.length; thisRow++) {
			var columns = rows[thisRow].split(",");
			if (nameValue == columns[0].toLowerCase()) {
				check = 1;
				accepts = columns[1].toLowerCase();
				verified = columns[3].toLowerCase();
				processed = columns[4];
				if(columns.length == 7){
					crypto_type = columns[6].trim();

				}else{
					crypto_type = columns.splice(0,6);
					crypto_type.push(columns.join(' ')); 
					crypto_type = crypto_type[6].slice(1,-1).split('  ').join(', ');
					crypto_type = crypto_type.slice(0,-1);
				}
				
				break;
			}
		};
		$('#wrap').html(" "); 
		nameValue = nameValue.replace(/\w\S*/g, function(txt){return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();})
		
		if (columns[2] !="no"){
			nameValue = '<a href="'+columns[2]+'"target=\"_blank\">'+nameValue+'</a>';
		}

		if (check == 1 && verified=="yes" && accepts == "yes"){
			build = "<h3>" + nameValue +"<sup>‚úª</sup> "+" accepts "+" "+ crypto_type + "."+ "</h3>";
			if(processed != 'no'){
				build += "<h6>Processed by " + processed + "<h6>";
			}
		}else if (check == 1 && verified=="yes" && accepts == "no"){
			build = "<h3>" + nameValue+" "+"<sup>‚úª</sup> does not accept any cryptocurrency.</h3>";
		}else if (check == 1){
			build = "<h3>" + nameValue+" "+" accepts "+" "+ crypto_type + "."+ "</h3>";
		}else{
			build = "<h3>" +nameValue+" "+" doesn't accept any cryptocurrency." + "</h3>";
			build += "<h6>Let us know if they do accept cryptocurrency curreny here.</h6>"
		}
		$('#wrap').append(build);	

	});
};

$(".submit-btn").click(callback);

$("input").keypress(function() {
	if (event.which == 13) callback();
});

</script>

</body>
</html>